<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sonic Sentinel Saga – Discography</title>
  
  <link rel=\"stylesheet\" href=\"style.css\">
</head>
<body>
  <div class="wrap">
    <header class="hero" aria-label="Discography header">
      <div class="brandline">
        <!-- Minimal shield for brevity -->
        <svg class="shield-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" aria-hidden="true" focusable="false">
          <path d="M50 6 L90 20 L82 82 L50 94 L18 82 L10 20 Z" fill="#f0c146" stroke="rgba(0,0,0,0.35)" stroke-width="2"/>
        </svg>
        <div class="brand gold">SONIC SENTINEL SAGA</div>
      </div>
      <p class="section-title">Complete Discography</p>
      <nav class="nav" aria-label="Site navigation">
        <a href="index.html">Home</a>
        <a href="discography.html" class="active">Discography</a>
        <a href="tracks.html">Tracks</a>
        <a href="story.html">Story</a>
        <a href="timeline.html">Timeline</a>
        <a href="contact.html">Contact</a>
      </nav>
      <div class="neon-bar" aria-hidden="true"></div>
    </header>

    <div class="divider"></div>

    <section class="grid">
      <!-- DISC I -->
      <article id="disc-1" class="disc">
        <header>
          <div class="cover"><img src="uploads/album1.png" alt="Signal of the Sentinel cover"></div>
          <div>
            <h2>Disc I – <span class="gold-title">Signal of the Sentinel</span></h2>
          </div>
        </header>
        <div class="tablewrap">
          <table>
            <thead>
              <tr>
                <th class="cover-col" aria-label="cover"></th>
                <th>#</th>
                <th>Track</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="cover"><img src="uploads/album1.png" alt=""></td>
                <td class="num">1</td>
                <td class="track">
                  <span class="track-title"><strong class="gold-title">Awakening</strong></span>
                  <span class="track-buttons"></span>
                </td>
              </tr>
              <tr>
                <td class="cover"><img src="uploads/album1.png" alt=""></td>
                <td class="num">2</td>
                <td class="track">
                  <span class="track-title"><strong class="gold-title">First Transmission</strong></span>
                  <span class="track-buttons"></span>
                </td>
              </tr>
              <tr>
                <td class="cover"><img src="uploads/album1.png" alt=""></td>
                <td class="num">3</td>
                <td class="track">
                  <span class="track-title"><strong class="gold-title">Citadel Collapse</strong></span>
                  <span class="track-buttons"></span>
                </td>
              </tr>
              <tr>
                <td class="cover"><img src="uploads/album1.png" alt=""></td>
                <td class="num">4</td>
                <td class="track">
                  <span class="track-title"><strong class="gold-title">Escape Protocol</strong></span>
                  <span class="track-buttons"></span>
                </td>
              </tr>
              <tr>
                <td class="cover"><img src="uploads/album1.png" alt=""></td>
                <td class="num">5</td>
                <td class="track">
                  <span class="track-title"><strong class="gold-title">Celestial Voyage</strong></span>
                  <span class="track-buttons"></span>
                </td>
              </tr>
              <tr>
                <td class="cover"><img src="uploads/album1.png" alt=""></td>
                <td class="num">6</td>
                <td class="track">
                  <span class="track-title"><strong class="gold-title">The Signal</strong></span>
                  <span class="track-buttons"></span>
                </td>
              </tr>
              <tr>
                <td class="cover"><img src="uploads/album1.png" alt=""></td>
                <td class="num">7</td>
                <td class="track">
                  <span class="track-title"><strong class="gold-title">The Grid</strong></span>
                  <span class="track-buttons"></span>
                </td>
              </tr>
              <tr>
                <td class="cover"><img src="uploads/album1.png" alt=""></td>
                <td class="num">8</td>
                <td class="track">
                  <span class="track-title"><strong class="gold-title">Galactic Siege</strong></span>
                  <span class="track-buttons"></span>
                </td>
              </tr>
              <tr>
                <td class="cover"><img src="uploads/album1.png" alt=""></td>
                <td class="num">9</td>
                <td class="track">
                  <span class="track-title"><strong class="gold-title">Lost Signal</strong></span>
                  <span class="track-buttons"></span>
                </td>
              </tr>
              <tr>
                <td class="cover"><img src="uploads/album1.png" alt=""></td>
                <td class="num">10</td>
                <td class="track">
                  <span class="track-title"><strong class="gold-title">Echoes of Tomorrow</strong></span>
                  <span class="track-buttons"></span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </article>

      <!-- DISC II -->
      <article id="disc-2" class="disc">
        <header>
          <div class="cover"><img src="uploads/album2.png" alt="Legacy of the Sentinel cover"></div>
          <div>
            <h2>Disc II – <span class="gold-title">Legacy of the Sentinel</span></h2>
          </div>
        </header>
        <div class="tablewrap">
          <table>
            <thead>
              <tr>
                <th class="cover-col" aria-label="cover"></th>
                <th>#</th>
                <th>Track</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="cover"><img src="uploads/album2.png" alt=""></td>
                <td class="num">1</td>
                <td class="track">
                  <span class="track-title"><strong class="gold-title">Aurora Dawn</strong></span>
                  <span class="track-buttons"></span>
                </td>
              </tr>
              <tr>
                <td class="cover"><img src="uploads/album2.png" alt=""></td>
                <td class="num">2</td>
                <td class="track">
                  <span class="track-title"><strong class="gold-title">Sentinel Rising</strong></span>
                  <span class="track-buttons"></span>
                </td>
              </tr>
              <tr>
                <td class="cover"><img src="uploads/album2.png" alt=""></td>
                <td class="num">3</td>
                <td class="track">
                  <span class="track-title"><strong class="gold-title">Second Transmission</strong></span>
                  <span class="track-buttons"></span>
                </td>
              </tr>
              <tr>
                <td class="cover"><img src="uploads/album2.png" alt=""></td>
                <td class="num">4</td>
                <td class="track">
                  <span class="track-title"><strong class="gold-title">Around the World</strong></span>
                  <span class="track-buttons"></span>
                </td>
              </tr>
              <tr>
                <td class="cover"><img src="uploads/album2.png" alt=""></td>
                <td class="num">5</td>
                <td class="track">
                  <span class="track-title"><strong class="gold-title">Sentinel’s Voice</strong></span>
                  <span class="track-buttons"></span>
                </td>
              </tr>
              <tr>
                <td class="cover"><img src="uploads/album2.png" alt=""></td>
                <td class="num">6</td>
                <td class="track">
                  <span class="track-title"><strong class="gold-title">Summer of Rave</strong></span>
                  <span class="track-buttons"></span>
                </td>
              </tr>
              <tr>
                <td class="cover"><img src="uploads/album2.png" alt=""></td>
                <td class="num">7</td>
                <td class="track">
                  <span class="track-title"><strong class="gold-title">Exodus</strong></span>
                  <span class="track-buttons"></span>
                </td>
              </tr>
              <tr>
                <td class="cover"><img src="uploads/album2.png" alt=""></td>
                <td class="num">8</td>
                <td class="track">
                  <span class="track-title"><strong class="gold-title">Citadel Ascension</strong></span>
                  <span class="track-buttons"></span>
                </td>
              </tr>
              <tr>
                <td class="cover"><img src="uploads/album2.png" alt=""></td>
                <td class="num">9</td>
                <td class="track">
                  <span class="track-title"><strong class="gold-title">Echoes of Tomorrow (Reprise)</strong></span>
                  <span class="track-buttons"></span>
                </td>
              </tr>
              <tr>
                <td class="cover"><img src="uploads/album2.png" alt=""></td>
                <td class="num">10</td>
                <td class="track">
                  <span class="track-title"><strong class="gold-title">Sentinel Eternal</strong></span>
                  <span class="track-buttons"></span>
                </td>
              </tr>
              <tr>
                <td class="cover"><img src="uploads/album2.png" alt=""></td>
                <td class="num">11</td>
                <td class="track">
                  <span class="track-title"><strong class="gold-title">Epilogue</strong></span>
                  <span class="track-buttons"></span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </article>
    </section>
  </div>

  <!-- Back to Top -->
  <button id="backToTop" aria-label="Back to top">
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><polyline points="18 15 12 9 6 15"></polyline></svg>
  </button>

  <!-- Share + Listen wiring -->
  <script>
  (function(){
    function slugify(text){
      return text.toString().toLowerCase()
        .replace(/\\s+/g, '-').replace(/[^\\w\\-]+/g, '')
        .replace(/\\-\\-+/g, '-').replace(/^-+/, '').replace(/-+$/, '');
    }

    function ensureButtonWrap(trackCell){
      let btnWrap = trackCell.querySelector('.track-buttons');
      if(!btnWrap){
        btnWrap = document.createElement('span');
        btnWrap.className = 'track-buttons';
        trackCell.appendChild(btnWrap);
      }
      return btnWrap;
    }

    function addShareButtons(article){
      const tbody = article.querySelector('tbody'); if(!tbody) return;
      Array.from(tbody.querySelectorAll('tr')).forEach(tr => {
        const trackCell = tr.querySelector('td.track');
        const titleEl = trackCell ? (trackCell.querySelector('.track-title strong') || trackCell.querySelector('.track-title') || trackCell.querySelector('strong') || trackCell) : null;
        if(!titleEl) return;
        const title = titleEl.textContent.trim();
        const discId = article.id || 'disc';
        const id = tr.id || (discId + '-' + slugify(title));
        tr.id = id;

        if(tr.querySelector('.btn.share')) return;
        const btnWrap = ensureButtonWrap(trackCell);
        const shareBtn = document.createElement('button');
        shareBtn.className = 'btn album share'; shareBtn.type = 'button'; shareBtn.textContent = 'Share';
        shareBtn.addEventListener('click', async () => {
          const url = location.origin + location.pathname + '#' + id;
          const text = title + ' — Sonic Sentinel Saga';
          try{
            if (navigator.share){ await navigator.share({ title, text, url }); }
            else if (navigator.clipboard){ await navigator.clipboard.writeText(url); alert('Link gekopieerd: ' + url); }
            else { prompt('Kopieer deze link:', url); }
          }catch(e){ console.warn(e); }
        });
        btnWrap.appendChild(shareBtn);
      });
    }

    const LISTEN_LINKS = {
      // 'disc-1-awakening': 'https://...',
      // 'disc-2-aurora-dawn': 'https://...'
    };
    function addListenButtons(article){
      const tbody = article.querySelector('tbody'); if(!tbody) return;
      Array.from(tbody.querySelectorAll('tr')).forEach(tr => {
        if(tr.querySelector('.btn.listen')) return;
        const id = tr.id || ''; // will be set by share pass if not already
        const trackCell = tr.querySelector('td.track'); if(!trackCell) return;
        const btnWrap = trackCell.querySelector('.track-buttons') || (function(){ const w=document.createElement('span'); w.className='track-buttons'; trackCell.appendChild(w); return w; })();
        const listen = document.createElement('button');
        listen.className = 'btn album listen'; listen.type = 'button'; listen.textContent = 'Listen';
        listen.addEventListener('click', () => {
          const url = LISTEN_LINKS[id];
          if(url){ window.open(url, '_blank', 'noopener'); }
          else { alert('Nog geen link ingesteld voor dit nummer. Voeg een URL toe in LISTEN_LINKS[\"' + id + '\"] in de HTML.'); }
        });
        btnWrap.appendChild(listen);
      });
    }

    function init(){
      document.querySelectorAll('article.disc').forEach(a => { addShareButtons(a); addListenButtons(a); });
      const btn = document.getElementById('backToTop');
      window.addEventListener('scroll', () => {
        if (window.scrollY > 300) btn.classList.add('show'); else btn.classList.remove('show');
      });
      btn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
    }
    if (document.readyState === 'loading'){ document.addEventListener('DOMContentLoaded', init); } else { init(); }
  })();
  </script>
</body>
</html>
