<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sonic Sentinel Saga – Discography</title>
  <style>
    :root{
      --bg:#0b0f16; --panel:#101623; --panel-2:#0e1420;
      --text:#e7ecf3; --muted:#aab4c6;
      --accent-ice:#7fd0ff; --accent-gold:#f0c146;
      --border:rgba(255,255,255,.08); --radius:18px;
      --shadow:0 10px 30px rgba(0,0,0,.45), 0 2px 10px rgba(0,0,0,.35);
      --anchor-offset:88px;
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0; font:15px/1.6 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 800px at 20% -10%, #132037, transparent 60%),
        radial-gradient(900px 700px at 120% 10%, #1a2640, transparent 60%),
        var(--bg);
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
    }
    .wrap{max-width:1100px; margin:40px auto; padding:0 20px}
    :target{scroll-margin-top:var(--anchor-offset)}

    /* Glass/Neon hero */
    .hero{
      position: relative; overflow:hidden; border:1px solid rgba(255,255,255,.12);
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(16,22,35,.65), rgba(16,22,35,.35));
      box-shadow: var(--shadow);
      backdrop-filter: blur(12px) saturate(120%);
      -webkit-backdrop-filter: blur(12px) saturate(120%);
      padding: 22px 16px 46px;
    }
    .hero::before{
      content:""; position:absolute; inset:-40% -10% -60% -10%;
      background: conic-gradient(from 0deg, #0ea5e9, #7c3aed, #f59e0b, #0ea5e9);
      filter: blur(28px) saturate(140%); opacity:.18; animation: neonFlow 16s linear infinite;
      pointer-events:none;
    }
    .hero::after{
      content:""; position:absolute; inset:0;
      background: radial-gradient(1200px 200px at 50% 0%, rgba(127,208,255,.25), transparent 60%);
      pointer-events:none;
    }
    @keyframes neonFlow{ to{ transform: rotate(360deg) } }

    .brandline{ display:flex; align-items:center; gap:10px }
    .shield-icon{ width:24px; height:24px; flex-shrink:0; filter: drop-shadow(0 0 4px rgba(240,193,70,.5)); }
    @media (min-width:768px){ .shield-icon{ width:28px; height:28px } }

    .brand.gold{ color: var(--accent-gold); text-shadow: 0 0 6px rgba(240,193,70,.45); font-weight:800; letter-spacing:.08em; text-transform:uppercase; font-size:22px }
    @media (min-width:768px){ .brand.gold{ font-size:28px } }

    .nav{ margin-top:12px; display:flex; gap:10px; flex-wrap:wrap }
    .nav a{
      text-decoration:none; color:var(--text); background:#0e1522; border:1px solid var(--border);
      padding:10px 14px; border-radius:999px; box-shadow:var(--shadow);
      transition:transform .12s ease,border-color .2s ease,background .2s ease,color .2s ease;
    }
    .nav a:hover{
      border-color: rgba(240,193,70,.65);
      color: var(--accent-gold);
      box-shadow: 0 6px 20px rgba(240,193,70,.35);
    }
    .nav a.active{
      color: var(--accent-ice);
      border-color: rgba(127,208,255,.6);
      background: linear-gradient(180deg, rgba(127,208,255,.22), rgba(127,208,255,.12));
      box-shadow: 0 8px 24px rgba(0,0,0,.35), 0 0 0 1px rgba(127,208,255,.25) inset;
    }
    .neon-bar{
      position:absolute; left:12px; right:12px; bottom:10px; height:2px;
      background: linear-gradient(90deg, rgba(127,208,255,0), rgba(127,208,255,.95), rgba(240,193,70,.85), rgba(127,208,255,.95), rgba(127,208,255,0));
      filter: drop-shadow(0 0 8px rgba(127,208,255,.65)); border-radius:2px; pointer-events:none;
    }

    .divider {
      height: 2px; margin: 30px auto; max-width: 600px;
      background: linear-gradient(90deg, rgba(127,208,255,0) 0%, rgba(127,208,255,0.8) 50%, rgba(240,193,70,0.7) 75%, rgba(127,208,255,0) 100%);
      filter: drop-shadow(0 0 8px rgba(127,208,255,0.6)); border-radius: 2px;
    }

    .section-title{ font-size:20px; margin:6px 0 0; font-weight:700; letter-spacing:.02em }

    /* Disc cards */
    .grid{ display:grid; grid-template-columns: 1fr; gap:22px; margin-top:26px }
    @media (min-width:980px){ .grid{ grid-template-columns:1fr 1fr } }
    .disc{ border:1px solid var(--border); border-radius:var(--radius); overflow:hidden; background: linear-gradient(180deg, #0e1522, #0d1320 60%, #0b111c); box-shadow: var(--shadow) }
    .disc header{ display:flex; gap:16px; padding:16px; align-items:center; border-bottom:1px solid var(--border);
      background: linear-gradient(90deg, rgba(127,208,255,0.08), transparent 40%);
    }
    .disc h2{ margin:0; font-size:18px }
    .disc .subtitle{ margin:4px 0 0; color:var(--muted); font-size:13px }
    .cover{ flex:0 0 80px; height:80px; border-radius:10px; overflow:hidden; border:1px solid var(--border); background:#0f1524 }
    .cover img{ width:100%; height:100%; object-fit:cover; display:block }

    table{ width:100%; border-collapse:separate; border-spacing:0 }
    thead th{ text-align:left; font-size:12px; text-transform:uppercase; letter-spacing:.08em; color:var(--muted); padding:12px 14px; border-bottom:1px solid var(--border) }
    tbody td{ padding:12px 14px; vertical-align:middle }
    tbody tr:nth-child(odd){ background: rgba(255,255,255,0.03) }
    tbody tr:hover{ background: rgba(127,208,255,0.06) }
    tbody td:first-child{ width:90px; color:var(--muted) }
    tbody td:nth-child(2){ font-weight:700 }

    .gold-title{ color: var(--accent-gold); text-shadow: 0 0 6px rgba(240,193,70,.45) }

    /* Buttons */
    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      padding:8px 12px; border-radius:999px; border:1px solid var(--border);
      background:#0e1522; color:var(--text);
      text-decoration:none; font-size:13px; line-height:1; cursor:pointer;
      transition: transform .12s ease, border-color .25s ease, box-shadow .25s ease, color .25s ease;
      margin-left:10px;
    }
    .btn:hover{ transform: translateY(-1px); border-color: rgba(127,208,255,.45); box-shadow: 0 8px 24px rgba(0,0,0,.35) }
    .btn.share{
      background: linear-gradient(180deg, rgba(240,193,70,.22), rgba(240,193,70,.12));
      border-color: rgba(240,193,70,.55); color: var(--accent-gold);
    }
    .btn.share:hover{ border-color: rgba(240,193,70,.75); box-shadow: 0 6px 18px rgba(240,193,70,.35) }
    .btn.listen{
      background: linear-gradient(180deg, rgba(127,208,255,.22), rgba(127,208,255,.12));
      border-color: rgba(127,208,255,.55); color: var(--accent-ice);
    }
    .btn.listen:hover{ border-color: rgba(127,208,255,.75); box-shadow: 0 6px 18px rgba(127,208,255,.35) }

    /* Back-to-top */
    #backToTop { position: fixed; bottom: 28px; right: 28px; width: 44px; height: 44px; border-radius: 50%;
      border: 1px solid rgba(127,208,255,.45);
      background: linear-gradient(180deg, rgba(127,208,255,.18), rgba(127,208,255,.10));
      color:#eaf5ff; display:flex; align-items:center; justify-content:center;
      cursor:pointer; opacity:0; visibility:hidden; box-shadow:0 6px 18px rgba(0,0,0,.35);
      transition: opacity .25s ease, visibility .25s ease, transform .2s ease; z-index:9999;
    }
    #backToTop:hover{ transform: translateY(-2px); border-color: rgba(127,208,255,.65); }
    #backToTop.show{ opacity:1; visibility:visible; transform:translateY(0) }
    @keyframes backToTopFadePop{ from{opacity:0; transform: translateY(6px) scale(.98)} to{opacity:1; transform: translateY(0) scale(1)} }
    #backToTop.show{ animation: backToTopFadePop .25s ease-out }

    @media print{
      body{ background:#fff; color:#000 }
      .hero{ box-shadow:none; border-color:#ddd }
      .nav{ display:none }
      .disc{ break-inside: avoid }
    }
  </style>

  <!-- Favicons + Manifest -->
  <link rel="icon" type="image/png" sizes="32x32" href="uploads/favicon-32.png">
  <link rel="icon" type="image/png" sizes="192x192" href="uploads/favicon-192.png">
  <link rel="apple-touch-icon" sizes="180x180" href="uploads/favicon-180.png">
  <link rel="icon" href="uploads/favicon.ico">
  <link rel="manifest" href="manifest.json">
</head>
<body>
  <div class="wrap">
    <header class="hero" aria-label="Discography header">
      <div class="brandline">
        <!-- SVG Shield -->
        <svg class="shield-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" aria-hidden="true" focusable="false">
          <defs>
            <linearGradient id="goldGradientShield" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0%" stop-color="#f0c146"/>
              <stop offset="100%" stop-color="#c79e35"/>
            </linearGradient>
          </defs>
          <path d="M50 6 L90 20 L82 82 L50 94 L18 82 L10 20 Z" fill="url(#goldGradientShield)" stroke="rgba(0,0,0,0.35)" stroke-width="2"/>
          <path d="M27 38 L73 62" stroke="rgba(0,0,0,0.55)" stroke-width="7" stroke-linecap="round"/>
          <path d="M27 52 L73 76" stroke="rgba(0,0,0,0.55)" stroke-width="7" stroke-linecap="round"/>
        </svg>
        <div class="brand gold">SONIC SENTINEL SAGA</div>
      </div>
      <p class="section-title">Complete Discography</p>
      <nav class="nav" aria-label="Site navigation">
        <a href="index.html">Home</a>
        <a href="discography.html" class="active">Discography</a>
        <a href="tracks.html">Tracks</a>
        <a href="story.html">Story</a>
        <a href="timeline.html">Timeline</a>
        <a href="contact.html">Contact</a>
      </nav>
      <div class="neon-bar" aria-hidden="true"></div>
    </header>

    <div class="divider"></div>

    <section class="grid">
      <!-- DISC I -->
      <article id="disc-1" class="disc">
        <header>
          <div class="cover"><img src="uploads/album1.png" alt="Signal of the Sentinel cover"></div>
          <div>
            <h2>Disc I – <span class="gold-title">Signal of the Sentinel</span></h2>
            <p class="subtitle">From silence to voice: the signal takes form.</p>
          </div>
        </header>
        <div class="tablewrap">
          <table>
            <thead>
              <tr>
                <th>#</th>
                <th>Track</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="gold-title">Prologue</td>
                <td><strong class="gold-title">Signal of the Sentinel</strong></td>
              </tr>
              <tr><td>1</td><td><strong class="gold-title">Awakening</strong></td></tr>
              <tr><td>2</td><td><strong class="gold-title">First Transmission</strong></td></tr>
              <tr><td>3</td><td><strong class="gold-title">Citadel Collapse</strong></td></tr>
              <tr><td>4</td><td><strong class="gold-title">Escape Protocol</strong></td></tr>
              <tr><td>5</td><td><strong class="gold-title">Celestial Voyage</strong></td></tr>
              <tr><td>6</td><td><strong class="gold-title">The Signal</strong></td></tr>
              <tr><td>7</td><td><strong class="gold-title">The Grid</strong></td></tr>
              <tr><td>8</td><td><strong class="gold-title">Galactic Siege</strong></td></tr>
              <tr><td>9</td><td><strong class="gold-title">Lost Signal</strong></td></tr>
              <tr><td>10</td><td><strong class="gold-title">Echoes of Tomorrow</strong></td></tr>
            </tbody>
          </table>
        </div>
      </article>

      <!-- DISC II -->
      <article id="disc-2" class="disc">
        <header>
          <div class="cover"><img src="uploads/album2.png" alt="Legacy of the Sentinel cover"></div>
          <div>
            <h2>Disc II – <span class="gold-title">Legacy of the Sentinel</span></h2>
            <p class="subtitle">From dawn to legend: the signal becomes myth.</p>
          </div>
        </header>
        <div class="tablewrap">
          <table>
            <thead>
              <tr>
                <th>#</th>
                <th>Track</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>1</td><td><strong class="gold-title">Aurora Dawn</strong></td></tr>
              <tr><td>2</td><td><strong class="gold-title">Sentinel Rising</strong></td></tr>
              <tr><td>3</td><td><strong class="gold-title">Second Transmission</strong></td></tr>
              <tr><td>4</td><td><strong class="gold-title">Around the World</strong></td></tr>
              <tr><td>5</td><td><strong class="gold-title">Sentinel’s Voice</strong></td></tr>
              <tr><td>6</td><td><strong class="gold-title">Summer of Rave</strong></td></tr>
              <tr><td>7</td><td><strong class="gold-title">Exodus</strong></td></tr>
              <tr><td>8</td><td><strong class="gold-title">Citadel Ascension</strong></td></tr>
              <tr><td>9</td><td><strong class="gold-title">Echoes of Tomorrow (Reprise)</strong></td></tr>
              <tr><td>10</td><td><strong class="gold-title">Sentinel Eternal</strong></td></tr>
              <tr><td>11</td><td><strong class="gold-title">Epilogue</strong></td></tr>
            </tbody>
          </table>
        </div>
      </article>
    </section>
  </div>

  <!-- Back to Top -->
  <button id="backToTop" aria-label="Back to top">
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><polyline points="18 15 12 9 6 15"></polyline></svg>
  </button>

  <!-- Service worker registration -->
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("service-worker.js")
        .then(() => console.log("Service Worker geregistreerd"))
        .catch(err => console.error("SW fout:", err));
    }
  </script>

  <!-- Share + Listen wiring -->
  <script>
  (function(){
    function slugify(text){
      return text.toString().toLowerCase()
        .replace(/\s+/g, '-').replace(/[^\w\-]+/g, '')
        .replace(/\-\-+/g, '-').replace(/^-+/, '').replace(/-+$/, '');
    }
    function addShareButtons(article){
      const tbody = article.querySelector('tbody'); if(!tbody) return;
      Array.from(tbody.querySelectorAll('tr')).forEach(tr => {
        const trackCell = tr.querySelector('td:nth-child(2)') || tr.children[1];
        const titleEl = trackCell ? (trackCell.querySelector('strong') || trackCell) : null;
        if(!titleEl) return;
        const title = titleEl.textContent.trim();
        const discId = article.id || 'disc';
        const id = tr.id || (discId + '-' + slugify(title));
        tr.id = id;

        if(tr.querySelector('.btn.share')) return;
        const shareBtn = document.createElement('button');
        shareBtn.className = 'btn share'; shareBtn.type = 'button'; shareBtn.textContent = 'Share';
        shareBtn.addEventListener('click', async () => {
          const url = location.origin + location.pathname + '#' + id;
          const text = title + ' — Sonic Sentinel Saga';
          try{
            if (navigator.share){ await navigator.share({ title, text, url }); }
            else if (navigator.clipboard){ await navigator.clipboard.writeText(url); alert('Link gekopieerd: ' + url); }
            else { prompt('Kopieer deze link:', url); }
          }catch(e){ console.warn(e); }
        });
        trackCell.appendChild(shareBtn);
      });
    }

    const LISTEN_LINKS = {
      // 'disc-1-awakening': 'https://...',
      // 'disc-2-aurora-dawn': 'https://...'
    };
    function addListenButtons(article){
      const tbody = article.querySelector('tbody'); if(!tbody) return;
      Array.from(tbody.querySelectorAll('tr')).forEach(tr => {
        if(tr.querySelector('.btn.listen')) return;
        const id = tr.id; if(!id) return;
        const trackCell = tr.querySelector('td:nth-child(2)') || tr.children[1];
        const listen = document.createElement('button');
        listen.className = 'btn listen'; listen.type = 'button'; listen.textContent = 'Listen';
        listen.addEventListener('click', () => {
          const url = LISTEN_LINKS[id];
          if(url){ window.open(url, '_blank', 'noopener'); }
          else { alert('Nog geen link ingesteld voor dit nummer. Voeg een URL toe in LISTEN_LINKS["' + id + '"] in de HTML.'); }
        });
        trackCell.appendChild(listen);
      });
    }

    function init(){
      document.querySelectorAll('article.disc').forEach(a => { addShareButtons(a); addListenButtons(a); });
      const btn = document.getElementById('backToTop');
      window.addEventListener('scroll', () => {
        if (window.scrollY > 300) btn.classList.add('show'); else btn.classList.remove('show');
      });
      btn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
    }
    if (document.readyState === 'loading'){ document.addEventListener('DOMContentLoaded', init); } else { init(); }
  })();
  </script>
</body>
</html>
